import{r as p,j as i}from"./index-DjT4b53n.js";import{c as te,P as ne,W as oe,G as ae,o as _,p as w,q as g,r as se,k as R,s as I,t as W,D,V as H,u as re,v as ce,w as ie}from"./three.module-BOqUkN66.js";const me=()=>{const x=p.useRef(null),V=p.useRef(null),E=p.useRef(null),b=p.useRef({x:0,y:0}),u=p.useRef({x:.2,y:1.5}),v=(s,f,m)=>{const h=(90-s)*(Math.PI/180),d=(f+180)*(Math.PI/180),c=-m*Math.sin(h)*Math.cos(d),n=m*Math.cos(h),l=m*Math.sin(h)*Math.sin(d);return new H(c,n,l)};return p.useEffect(()=>{if(!x.current)return;const s=x.current,f=Math.max(s.clientWidth,300),m=Math.max(s.clientHeight,300),h=new te,d=new ne(45,f/m,.1,1e3);d.position.z=3;const c=new oe({antialias:!1,alpha:!0,powerPreference:"low-power"});c.setSize(f,m),c.setPixelRatio(1),c.setClearColor(0,0),s.appendChild(c.domElement),V.current=c;const n=new ae;h.add(n);const l=1,q=new _(l,24,24),O=new w({color:661032,transparent:!0,opacity:.9}),U=new g(q,O);n.add(U);const T=new _(l,16,16),X=new w({color:9133302,wireframe:!0,transparent:!0,opacity:.1}),Y=new g(T,X);n.add(Y);const j=new se({color:9133302,transparent:!0,opacity:.2});for(let e=-45;e<=45;e+=45){const t=[];for(let a=0;a<=360;a+=15)t.push(v(e,a,l+.005));const o=new R().setFromPoints(t),r=new I(o,j);n.add(r)}for(let e=0;e<360;e+=60){const t=[];for(let a=-90;a<=90;a+=15)t.push(v(a,e,l+.005));const o=new R().setFromPoints(t),r=new I(o,j);n.add(r)}const J=new W(l+.05,l+.15,32),K=new w({color:9133302,transparent:!0,opacity:.2,side:D}),Q=new g(J,K);n.add(Q);const Z=[{name:"USA",lat:37.0902,lng:-95.7129,color:2282478},{name:"Colombia",lat:4.5709,lng:-74.2973,color:9133302},{name:"Chile",lat:-33.4489,lng:-70.6693,color:10980346}],G=[];Z.forEach(e=>{const t=v(e.lat,e.lng,l+.02),o=new _(.04,8,8),r=new w({color:e.color}),a=new g(o,r);a.position.copy(t),n.add(a);const ee=new W(.05,.08,16),F=new w({color:e.color,transparent:!0,opacity:.6,side:D}),y=new g(ee,F);y.position.copy(t),y.lookAt(new H(0,0,0)),n.add(y),G.push({ring:y,material:F})});const L=new R,P=40,M=new Float32Array(P*3);for(let e=0;e<P;e++){const t=Math.random()*Math.PI*2,o=Math.acos(2*Math.random()-1),r=l+.3+Math.random()*.3;M[e*3]=r*Math.sin(o)*Math.cos(t),M[e*3+1]=r*Math.sin(o)*Math.sin(t),M[e*3+2]=r*Math.cos(o)}L.setAttribute("position",new re(M,3));const $=new ce({color:9133302,size:.015,transparent:!0,opacity:.5}),C=new ie(L,$);n.add(C),n.rotation.x=.2,n.rotation.y=1.5;const N=e=>{const t=s.getBoundingClientRect(),o=(e.clientX-t.left)/t.width*2-1,r=-((e.clientY-t.top)/t.height)*2+1;b.current={x:o,y:r},u.current={x:.2+r*.3,y:1.5+o*.5}},A=()=>{u.current={x:.2,y:n.rotation.y}};s.addEventListener("mousemove",N),s.addEventListener("mouseleave",A);let k=0,z=0;const S=()=>{E.current=requestAnimationFrame(S),k+=.008;const e=.05;n.rotation.x+=(u.current.x-n.rotation.x)*e;const t=Date.now();t-z>2e3?(n.rotation.y+=.001,u.current.y=n.rotation.y):n.rotation.y+=(u.current.y-n.rotation.y)*e,(b.current.x!==0||b.current.y!==0)&&(z=t),G.forEach((o,r)=>{const a=1+Math.sin(k*1.5+r)*.3;o.ring.scale.set(a,a,a),o.material.opacity=.6-(a-1)*.5}),C.rotation.y+=3e-4,c.render(h,d)};S();const B=()=>{const e=Math.max(s.clientWidth,300),t=Math.max(s.clientHeight,300);d.aspect=e/t,d.updateProjectionMatrix(),c.setSize(e,t)};return window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B),s.removeEventListener("mousemove",N),s.removeEventListener("mouseleave",A),cancelAnimationFrame(E.current),s&&c.domElement&&s.removeChild(c.domElement),c.dispose()}},[]),i.jsx("div",{ref:x,className:"globe-3d",children:i.jsxs("div",{className:"globe-3d__labels",children:[i.jsxs("div",{className:"globe-3d__label",children:[i.jsx("span",{className:"globe-3d__label-dot",style:{background:"#22d3ee"}}),i.jsx("span",{className:"globe-3d__label-text",children:"USA"})]}),i.jsxs("div",{className:"globe-3d__label",children:[i.jsx("span",{className:"globe-3d__label-dot",style:{background:"#8b5cf6"}}),i.jsx("span",{className:"globe-3d__label-text",children:"COLOMBIA"})]}),i.jsxs("div",{className:"globe-3d__label",children:[i.jsx("span",{className:"globe-3d__label-dot",style:{background:"#a78bfa"}}),i.jsx("span",{className:"globe-3d__label-text",children:"CHILE"})]})]})})};export{me as default};
